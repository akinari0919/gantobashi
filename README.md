# メンチキッター
[![Image from Gyazo](https://i.gyazo.com/900b2d9980232c075a0feb785600a0bf.png)](https://gyazo.com/900b2d9980232c075a0feb785600a0bf)

## サービスURL
### https://www.gantobashi.com/
<br>

## 概要
たまには悪ぶってみたい人が  
相手を威嚇し、ひよらせるという体験を通して  
ちょっとした優越感に浸れるサービスです。

<br>

## メインのターゲットユーザー
- 怒りで相手を威嚇するという感情表現を忘れた大人達

<br>

## ユーザーが抱える課題
- 相手によっては舐められてしまう
- 威圧的な人に動揺してしまうことがある

<br>

## 解決方法
- 自身のガン飛ばし力を可視化して自信を付けてもらう
- 結果を客観視し、表情に磨きをかけることで自信を持ってもらう

<br>

## サービス開発の背景
ある日「溝上さんって(営業していて)舐められやすいじゃないですか〜^^」
と言われたことがありました。「誰にでも優しいってゆう意味ですよ//」とフォローはされましたが、確かに時には自身の意見を貫き通すために”舐められない”という要素は必要だと考えさせられました。
そこで同じように人から舐められやすいかも？と感じている方向けに、睨みを効かせる相手にも動揺せず、負けずと睨み返すくらいの強い心を養えるサービスを作りたいと思いました。

<br>

## 実装済みの機能
（以下の例は実際のアプリの機能から一部省略しています）
- 全ユーザー
  - カメラにガン飛ばして撮影（またはアップロード）
  - 診断結果はFaceAPI
  [(参照)](https://azure.microsoft.com/ja-jp/services/cognitive-services/face/)
  でのレスポンスに応じて  
  「〇〇人がビビった」と個別のコメントが表示される  
  ※APIは使い方確認済み  
  - Twitterで自慢できる（表情写真公開選択あり)

- 管理ユーザー
  - 利用解析（利用者数や写真公開の割合など）

(判定方法補足)  
FaceAPIでは怒り・軽蔑・嫌悪・恐怖・幸福・無表情・悲しみ・驚きの感情を取得できるので、怒り・軽蔑・嫌悪の感情をガン飛ばしの成功基準として、その他の感情との組み合わせでロジック構築して診断結果に活かしたいと考えています。

例えば怒りの中に幸福が含まれる場合にはその数値を元に減点し、「もっと心を鬼にして！」のような結果にしたいです。
技術的に可能そうであれば、上目遣い・下目遣いなども結果に反映することも出来ればと考えています。

<br>

（以下リリース後にユーザーの反応を見て検討予定中の機能）  
※継続利用してもうらう為の工夫
- 未登録（全）ユーザー
  - サンプル顔に合わせて練習出来る
  - 仮想ユーザーに喧嘩が売ることができ、その場の表情撮影で睨み合いの勝敗を決める。

- 登録ユーザー  
  - 診断結果と表情写真の登録・削除  
  - 仮想ユーザーとの喧嘩の勝ち星が増えていく  
  - 100人切り出来たら称号が手に入る（殿堂入り）  

- 管理ユーザー
  - 仮想ユーザー作成・編集

※ユーザー同士を繋ぐ
- 登録ユーザー  
  - 画像公開設定（デフォルト1枚、本人制限）  
  - 他登録ユーザーにlikeボタン的なビビるボタンで評価ができる  
  - 他登録ユーザーに喧嘩を売ることができ仮想ユーザーとは別の勝ち星を増やせる  
  - 殿堂入りしたら表情登録枠が1枚増やして再スタート可能  
  - 殿堂入り画像には喧嘩は売れない

※その他
- ランキング機能（診断結果またはは勝ち星に応じて）
- 東京リベンジャーズをオマージュしたパロディ追加機能

<br>


<br>

---
## ■画面遷移図
https://www.figma.com/file/BvZhStLAINqU1i3AnlYgRf/gantobashi?node-id=0%3A1

検討中の拡張機能まで実装した場合は以下のようなイメージになります。
[![Image from Gyazo](https://i.gyazo.com/813b42566280c670ba5cd71f2d9e2d88.png)](https://gyazo.com/813b42566280c670ba5cd71f2d9e2d88)

- ユーザー(User)画面  
  - 基本の診断用のページ遷移
  - テーマ別練習用のページ遷移（Traning）
  - 100人切りチャレンジ用のページ遷移（Challenge）
  - ログイン後の他ユーザー挑戦用のページ遷移（login）

- 管理者（Adomin）画面  
  - 利用状況を分析する用のページ（Top）
  - 仮想ユーザーを作成、編集する用のページ遷移

（補足追加）
- ユーザー編集画面で登録した写真のシェアONOFFの機能を追加
- 100人切り達成するとユーザー登録した画像がそのまま殿堂入り写真として反映  
（※写真を変更する場合は戦績がリセット）
- 非表示設定もユーザー編集画面で可能

[![Image from Gyazo](https://i.gyazo.com/341abe67521d7ebae4958f3677144226.png)](https://gyazo.com/341abe67521d7ebae4958f3677144226)

※診断判定のみの実装では、以下のイメージになります。
[![Image from Gyazo](https://i.gyazo.com/f2d7ca9b011ef2c6692bbb907e815d6a.png)](https://www.figma.com/file/BvZhStLAINqU1i3AnlYgRf/gantobashi?node-id=0%3A1)  


<br>

---
## ■テーブル設計・ER図
[![Image from Gyazo](https://i.gyazo.com/dcdd6e50ac22635cf21e42b9171c098e.png)](https://gyazo.com/dcdd6e50ac22635cf21e42b9171c098e)

<br>

### 【Usersテーブル】
- role  
管理者(Admin)権限をenumを使用して管理します。
- offense_win_count
他ユーザーに挑戦した決闘に勝利した数を記録します。

<br>

### 【Glaring_face_photosテーブル】
→ ユーザーのガン飛ばし写真を登録するためのテーブルです。
- face_score
戦闘力。他ユーザーと比較するために登録されます。
- defense_win_count
他ユーザーに挑戦された決闘で返り討ちした数を記録します。

<br>

### 【Beats(打ち負かし)テーブル】
→ 他ユーザーに挑戦して勝った場合は再戦できないようにロックするための中間テーブルです。
※毎日０時にリセットされ再戦可能になります。
